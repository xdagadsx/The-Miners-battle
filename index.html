<!DOCTYPE html>
<html>

<head>
    <script type="text/javascript" src="game.js"></script>
</head>

<body>
    <section>
        <button onclick="gameObject.addPlayer(new enemy())">Add enemy</button>
    </section>
    <section>
        <canvas id='gameCanvas' width="600" height="400" style="background-image: url(images/grass_background.png); width: 600; height: 400"> </canvas>
    </section>
    <aside>
        <div id='playersStats' />
    </aside>
    <script>
        gameObject.initialize({
            gameCanvas: document.getElementById('gameCanvas'),
            onPlayersUpdated: updatePlayersStats,
            onGameInitialized: updatePlayersStats
        });

        function updatePlayersStats(players) {
            var statsDiv = document.getElementById('playersStats');

            //clear entire div content (much faster that setting innerHtml to '')
            while (statsDiv.firstChild) {
                statsDiv.removeChild(statsDiv.firstChild);
            }

            players.forEach(player => {
                var playerStatsDiv = document.createElement('div');
                playerStatsDiv.innerHTML = "<img src='" + player.getImage().src + "'/> <span> " + player.identifier + "</span> <span> hp: " + player.hp + " </span>"
                statsDiv.appendChild(playerStatsDiv);
            });
        }
    </script>
</body>

</html>